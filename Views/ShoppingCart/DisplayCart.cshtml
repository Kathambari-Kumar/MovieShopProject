@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    double total = 0.0;
}

@model IEnumerable<MovieShop.Models.ViewModels.CartItem>

<table class="table">
    <thead>
        <tr>
            <th scope="col">Title</th>
            <th scope="col">Image</th>
            <th scope="col">Price</th>
            <th scope="col">Copies</th>
            <th scope="col">SubTotal</th>
            <th scope="col">Change</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            total = (double)total + (@item.Price * @item.Copies);
            <tr>
                <td><img src="@item.TargetURL" width="50" height="50" /></td>
                <td>@item.Title</td>
                <td id="price">@item.Price</td>
                <td>@item.Copies</td>
                <td id="total">@(item.Price * item.Copies)</td>
                
                <td>
                    <a class="btn btn-secondary" href="/ShoppingCart/AddItem?movieid=@item.MovieId">+</a>
                    <a class="btn btn-secondary" href="/ShoppingCart/ReduceItem?movieid=@item.MovieId">-</a>
                    @* <a class="btn btn-secondary" onclick="AddItem(@item.MovieId)">Add to Cart</a>
                    <a class="btn btn-secondary" onclick="ReduceItem(@item.MovieId)">Add to Cart</a> *@
                </td>
            </tr>
        }
    </tbody>
</table>
<div>
    <hr />
    <h5>Total : </h5> @total
</div>
<a class="btn btn-secondary" asp-controller="Cart" asp-action="PlacingOrder">Place an Order</a>